--- build.xml	2008-10-30 10:32:30.000000000 -0500
+++ build.xml	2012-03-01 07:45:33.000000000 -0600
@@ -89,7 +89,7 @@
         classpathref="classpath"/>
 
     <available property="sasl.present"
-        classname="javax.security.sasl.SaslClient"
+        classname="com.sun.security.sasl.preview.SaslClient"
         classpathref="classpath"/>
 
     <echo message=""/>
@@ -121,8 +121,9 @@
 		optimize="${optimize}"
 		deprecation="${deprecation}">
 
-        <exclude name="**/org/globus/mds/gsi/jndi/*Wrapper*" 
-                 unless="sasl.present"/>
+        <exclude name="**/org/globus/mds/gsi/jndi/*Wrapper*" unless="${sasl.present}"/> <exclude name="**/org/globus/mds/gsi/netscape/*.java"/>
+        <exclude name="**/org/globus/mds/gsi/jndi/GSIMech*" unless="${sasl.present}"/> <exclude name="**/org/globus/mds/gsi/NetscapeTest.java" />
+        <exclude name="**/org/globus/mds/gsi/jndi/ClientFactory*" unless="${sasl.present}"/>
 
 	</javac>
 
