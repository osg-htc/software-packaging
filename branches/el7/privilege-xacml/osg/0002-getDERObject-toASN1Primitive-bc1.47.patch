From 49cf63e3b939655e9313678b3efe487e231e03ee Mon Sep 17 00:00:00 2001
From: Matyas Selmeci <matyas@cs.wisc.edu>
Date: Mon, 6 Jul 2015 17:00:22 -0500
Subject: [PATCH 2/2] getDERObject() -> toASN1Primitive() (bc1.47)

Method rename in bouncycastle 1.47+
---
 .../java/org/opensciencegrid/authz/xacml/common/X509CertUtil.java     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/main/java/org/opensciencegrid/authz/xacml/common/X509CertUtil.java b/src/main/java/org/opensciencegrid/authz/xacml/common/X509CertUtil.java
index a223dad..ff98115 100644
--- a/src/main/java/org/opensciencegrid/authz/xacml/common/X509CertUtil.java
+++ b/src/main/java/org/opensciencegrid/authz/xacml/common/X509CertUtil.java
@@ -169,12 +169,12 @@ public class X509CertUtil {
         //subjectDN = X509NameHelper.toString((X509Name)clientcert.getSubjectDN());
         //subjectDN = toGlobusDN(subjectDN);
         subjectDN = X509NameHelper.toString(tbsCert.getSubject());
 
 
-        //ASN1Sequence seq = (ASN1Sequence)BouncyCastleUtil.duplicate(tbsCert.getSubject().getDERObject());
-        subjectDN = toGlobusString((ASN1Sequence)tbsCert.getSubject().getDERObject(), omitEmail);
+        //ASN1Sequence seq = (ASN1Sequence)BouncyCastleUtil.duplicate(tbsCert.getSubject().toASN1Primitive());
+        subjectDN = toGlobusString((ASN1Sequence)tbsCert.getSubject().toASN1Primitive(), omitEmail);
 
         // Find End-Entity Certificate, e.g. user certificate
 
         //byte[] encoded = chain[clientcertindex].getEncoded();
         //X509Cert cert = new X509Cert(encoded);
-- 
1.8.3.1

