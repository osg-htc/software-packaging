From fcf19c8ce78c9305414d18e94aa35cbb8ff29771 Mon Sep 17 00:00:00 2001
From: Emma Turetsky <turetske@gmail.com>
Date: Thu, 8 May 2025 10:51:11 -0500
Subject: [PATCH 4/7] [#25] XRootD's xml response for PROPFIND will now include
 the resourcetype tag for non-collections

---
 src/XrdHttp/XrdHttpReq.cc | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/XrdHttp/XrdHttpReq.cc b/src/XrdHttp/XrdHttpReq.cc
index baa2282a4..e2c188329 100644
--- a/src/XrdHttp/XrdHttpReq.cc
+++ b/src/XrdHttp/XrdHttpReq.cc
@@ -2548,6 +2548,7 @@ int XrdHttpReq::PostProcessHTTPReq(bool final_) {
                 stringresp += "<lp1:resourcetype><D:collection/></lp1:resourcetype>\n";
                 stringresp += "<lp1:iscollection>1</lp1:iscollection>\n";
               } else {
+                stringresp += "<lp1:resourcetype/>\n";
                 stringresp += "<lp1:iscollection>0</lp1:iscollection>\n";
               }
 
@@ -2664,6 +2665,7 @@ int XrdHttpReq::PostProcessHTTPReq(bool final_) {
                   stringresp += "<lp1:resourcetype><D:collection/></lp1:resourcetype>\n";
                   stringresp += "<lp1:iscollection>1</lp1:iscollection>\n";
                 } else {
+                  stringresp += "<lp1:resourcetype/>\n";
                   stringresp += "<lp1:iscollection>0</lp1:iscollection>\n";
                 }
 
-- 
2.34.1

