# Port specifications; only the redirector needs to use a well-known port
# "any" will cause rooted to bind to any available port.  Change as needed for firewalls.
#
# For the dCache template, we change the port to 1095, as the dCache xrootd door
# is likely running on the default port.
#
xrd.port 1095

# The roles this server will play.
all.role server
# The known managers
all.manager xrootd-itb.unl.edu:1213
#all.manager xrootd.unl.edu:1213

oss.localroot /pnfs/example.com/data/cms
xrootd.redirect xrootd-door.example.com:1094 /

# Allow any path to be exported
all.export / nostage

# Hosts allowed to use this xrootd cluster
cms.allow host *

### Standard directives
# Simple sites probably don't need to touch these.
# Logging verbosity
xrootd.trace emsg login stall redirect
ofs.trace none
xrd.trace conn
cms.trace all

# Integrate with CMS TFC, placed in /etc/storage.xml
oss.namelib @LIBDIR@/libXrdCmsTfc.so file:/etc/xrootd/storage.xml?protocol=direct

# Turn on authorization
ofs.authorize 0
#acc.authdb /etc/xrootd/Authfile
#acc.audit deny grant

xrootd.seclib @LIBDIR@/libXrdSec.so
xrootd.fslib @LIBDIR@/libXrdOfs.so
all.adminpath /var/run/xrootd
all.pidpath /var/run/xrootd

cms.delay startup 10
cms.fxhold 60s
#cms.perf int 30s pgm /usr/bin/XrdOlbMonPerf 30

xrd.report xrootd.t2.ucsd.edu:9931 every 60s all sync
xrootd.monitor all auth flush io 60s ident 5m mbuff 8k rbuff 4k rnums 3 window 5s dest files io info user redir xrootd.t2.ucsd.edu:9930

